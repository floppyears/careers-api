swagger: '2.0'

info:
  title: Careers API
  version: '1.0'

basePath: /api/v1

paths:
  /jobs:
    get:
      tags:
        - Careers
      description: "Get all `job` objects sorted by expiration date. Can be filtered by parameters."
      operationId: getJobs
      produces:
        - application/json
      parameters:
        - name: location
          description: "Filter by city/state(full-text search); e.g. corvallis, OR, etc."
          in: query
          required: false
          type: string
        - name: positionType
          description: "Filter by position type(full-text search); e.g. full-time"
          in: query
          required: false
          type: string
        - name: positionTitle
          description: "Filter by position title(full-text search)"
          in: query
          required: false
          type: string
        - name: employer
          description: "Filter by employer(full-text search)"
          in: query
          required: false
          type: string
        - name: hideExpiredJobs
          in: query
          required: false
          type: boolean
        - name: days
          description: "Days left to expire"
          in: query
          required: false
          type: integer
          format: int32
        - name: page[size]
          description: "Number of results to return. Used in pagination. Default value is 10."
          in: query
          required: false
          type: integer
          format: int32
        - name: page[number]
          description: "Page number of results. Used to paginate through results."
          in: query
          required: false
          type: integer
          format: int32
      responses:
        200:
          description: "Successful response"
          schema:
            $ref: '#/definitions/ResultObjects'
        404:
          description: "Not found"
          schema:
            $ref: "#/definitions/Error"
        500:
          description: "Internal Server Error"
          schema:
            $ref: "#/definitions/Error"

  /jobs/{jobId}:
    get:
      tags:
        - Careers
      description: "Get a job object by jobId"
      operationId: getJobById
      produces:
        - application/json
      parameters:
        - name: jobId
          in: path
          required: true
          type: integer
          format: int32
      responses:
        200:
          description: "Successful response"
          schema:
            $ref: "#/definitions/ResultObject"
        404:
          description: "Not found"
          schema:
            $ref: "#/definitions/Error"
        500:
          description: "Internal Server Error"
          schema:
            $ref: "#/definitions/Error"

definitions:
  ResultObject:
      properties:
        links:
          $ref: "#/definitions/Links"
        data:
          $ref: "#/definitions/ResourceObject"

  ResultObjects:
    properties:
      links:
        $ref: "#/definitions/Links"
      data:
        type: array
        items:
          $ref: "#/definitions/ResourceObject"

  ResourceObject:
    properties:
      id:
        type: integer
        format: int32
      type:
        type: string
      attributes:
        $ref: "#/definitions/Attributes"

  Attributes:
    type: object
    properties:
      organizationName:
        type: string
        description: "Name of the employer"
      positionTitle:
        type: string
      howtoApply:
        type: string
      positionLocation:
        type: string
        description: "(City, State)"
      positionFunction:
        type: string
      positionType:
        type: string
        description: "Full-time/Part-time/Internship - Paid"
      expirationDate:
        type: string
      jobLink:
        type: string

  Links:
    properties:
      self:
        type: string
      first:
        type: string
      last:
        type: string
      prev:
        type: string
      next:
        type: string

  Error:
    type: object
    properties:
      status:
        type: integer
        format: int32
      developerMessage:
        type: string
      userMesage:
        type: string
      code:
        type: integer
      details:
        type: string
